<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Article Extraction API · Docs Suite</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="The Article API is used to extract clean article text and other data from news articles, blog posts and other text-heavy pages. Retrieve the full-text, cleaned and [normalized HTML](/docs/en/api-article-html), related images and videos, author, date, tags—automatically, from any article on any site."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Article Extraction API · Docs Suite"/><meta property="og:type" content="website"/><meta property="og:url" content="https://diffbot.github.io/"/><meta property="og:description" content="The Article API is used to extract clean article text and other data from news articles, blog posts and other text-heavy pages. Retrieve the full-text, cleaned and [normalized HTML](/docs/en/api-article-html), related images and videos, author, date, tags—automatically, from any article on any site."/><meta property="og:image" content="https://diffbot.github.io/img/diagram.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://diffbot.github.io/img/diagram.svg"/><link rel="shortcut icon" href="/img/diffbot-head.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/app.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/diffbot_white.svg" alt="Docs Suite"/><h2 class="headerTitleWithLogo">Docs Suite</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/error-intro" target="_self">Debugging</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>API</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Article API<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Basics</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/api-intro-article">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/en/api-basics-article">Basic Usage</a></li><li class="navListItem"><a class="navItem" href="/docs/en/api-article-html">Article API: HTML Field Specification</a></li><li class="navListItem"><a class="navItem" href="/docs/en/api-semantria">Semantria-Powered Text Analysis Features</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Recipes</h4><ul><li class="navListItem"><a class="navItem" href="/docs/en/api-usage-article">Index</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-data-behind-login">Accessing Data Behind a Login Wall</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-concatenate-multipage-articles">Auto-merge multi-page articles with custom rules</a></li><li class="navListItem"><a class="navItem" href="/docs/en/guides-correct-images-custom-api">Correcting the Images field</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API</h4><ul><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/api-article">Article Extraction API</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/diffbot/docs/edit/master/docs/api-article.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Article Extraction API</h1></header><article><div><span><p>The Article API is used to extract clean article text and other data from news articles, blog posts and other text-heavy pages. Retrieve the full-text, cleaned and <a href="/docs/en/api-article-html">normalized HTML</a>, related images and videos, author, date, tags—automatically, from any article on any site.</p>
<h2><a class="anchor" aria-hidden="true" id="request"></a><a href="#request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Request</h2>
<p>To use the Article API, perform a HTTP GET request on the following endpoint:</p>
<pre><code class="hljs css language-plaintext">https://api.diffbot.com/v3/article
</code></pre>
<p>Provide the following arguments:</p>
<table>
<thead>
<tr><th style="text-align:left">Argument</th><th style="text-align:left">Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left"><code>token</code></td><td style="text-align:left">Developer token</td></tr>
<tr><td style="text-align:left"><code>url</code></td><td style="text-align:left">Web page URL of the article to process (URL encoded) </td></tr><td colspan="2"><strong>Optional arguments</strong></td></td></tr>
<tr><td style="text-align:left"><code>fields</code></td><td style="text-align:left">Used to specify optional fields to be returned by the Article API. See the <a href="#the-fields-argument">Fields</a> section below.</td></tr>
<tr><td style="text-align:left"><code>paging</code></td><td style="text-align:left">Pass <code>paging=false</code> to disable automatic concatenation of multiple-page articles. (By default, Diffbot will concatenate up to 20 pages of a single article.) <a href="/docs/en/guides-multi-page-articles-discussions">More on automatic concatenation</a>.</td></tr>
<tr><td style="text-align:left"><code>maxTags</code></td><td style="text-align:left">Set the maximum number of automatically-generated tags to return. By default a maximum of ten tags will be returned.</td></tr>
<tr><td style="text-align:left"><code>tagConfidence</code></td><td style="text-align:left">Set the minimum relevance <code>score</code> of tags to return, between 0.0 and 1.0. By default only tags with a score equal to or above 0.5 will be returned.</td></tr>
<tr><td style="text-align:left"><code>discussion</code></td><td style="text-align:left">Pass <code>discussion=false</code> to disable automatic extraction of article comments. See <a href="#comment-extraction">below</a>.</td></tr>
<tr><td style="text-align:left"><code>timeout</code></td><td style="text-align:left">Sets a value in milliseconds to wait for the retrieval/fetch of content from the requested URL. The default timeout for the third-party response is 30 seconds (30000).</td></tr>
<tr><td style="text-align:left"><code>callback</code></td><td style="text-align:left">Use for jsonp requests. Needed for cross-domain ajax.</td></tr>
<tr><td style="text-align:left"><code>proxy</code></td><td style="text-align:left">Leave value empty to use default proxies, or specify an IP address of a custom proxy that will be used to fetch the target page, instead of Diffbot's default IPs/proxies. (Ex: <code>&amp;proxy</code> or <code>&amp;proxy=168.212.226.204</code>)</td></tr>
<tr><td style="text-align:left"><code>proxyAuth</code></td><td style="text-align:left">Used to specify the authentication parameters that will be used with a custom proxy specified in the <code>&amp;proxy</code> parameter. (Ex: <code>&amp;proxyAuth=username:password</code>)</td></tr>
<tr><td style="text-align:left"><code>naturalLanguage</code></td><td style="text-align:left">Used to request the output of the Diffbot Natural Language API in the field <code>naturalLanguage</code>. Example: <code>&amp;naturalLanguage=entities,facts,categories,sentiment</code>.</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="the-fields-argument"></a><a href="#the-fields-argument" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The fields argument</h3>
<p>Use the <code>fields</code> argument to return optional fields in the JSON response. The default fields will always be returned. For nested arrays, use parentheses to retrieve specific fields, or <code>*</code> to return all sub-fields.</p>
<p>For example, to return <code>links</code> and <code>meta</code> (in addition to the default fields), your <code>&amp;fields</code> argument would be:</p>
<pre><code class="hljs css language-plaintext">&amp;fields=links,meta
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="the-naturallanguage-argument"></a><a href="#the-naturallanguage-argument" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The naturalLanguage argument</h3>
<p>The Diffbot Natural Language API is the service used by the Article API to extract tags and sentiment for an article. Use the <code>naturalLanguage</code> argument to receive the full output of the Natural Language API in the field <code>naturalLanguage</code> in the JSON response. Please refer to the <a href="/docs/en/nl-index">Natural Language API</a> documentation for a complete list of available fields, including all <code>entities</code> (such as people, organizations, products and topics) mentioned in the article as well as <code>facts</code> describing the relationships between them (such as <code>Apple Inc; founded by; Steve Jobs</code>).</p>
<h2><a class="anchor" aria-hidden="true" id="response"></a><a href="#response" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response</h2>
<p>The Article API returns data in JSON format.</p>
<p>Each V3 response includes a <code>request</code> object (which returns request-specific metadata), and an <code>objects</code> array, which will include the extracted information for all objects on a submitted page. At the moment, <strong>only a single object</strong> will be returned for Article API requests.</p>
<p>Objects in the Article API's <code>objects</code> array will include the following fields:</p>
<table>
<thead>
<tr><th style="text-align:left">Field</th><th style="text-align:left">Description</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left"><code>type</code></td><td style="text-align:left">Type of object (always <code>article</code>).</td></tr>
<tr><td style="text-align:left"><code>title</code></td><td style="text-align:left">Title of the article.</td></tr>
<tr><td style="text-align:left"><code>text</code></td><td style="text-align:left">Full text of the article.</td></tr>
<tr><td style="text-align:left"><code>html</code></td><td style="text-align:left">Diffbot-normalized HTML of the extracted article. Please see the <a href="/docs/en/api-article-html">HTML Specification</a> for a breakdown of elements and attributes returned.</td></tr>
<tr><td style="text-align:left"><code>date</code></td><td style="text-align:left">Date of extracted article, normalized in most cases to <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3">RFC 1123 (HTTP/1.1)</a>.</td></tr>
<tr><td style="text-align:left"><code>estimatedDate</code></td><td style="text-align:left">If an article's date is ambiguous, Diffbot will attempt to estimate a more specific timestamp using various factors. This will not be generated for articles older than two days, or articles without an identified <code>date</code>.</td></tr>
<tr><td style="text-align:left"><code>author</code></td><td style="text-align:left">Article author.</td></tr>
<tr><td style="text-align:left"><code>authorUrl</code></td><td style="text-align:left">URL of the author profile page, if available.</td></tr>
<tr><td style="text-align:left"><code>discussion</code></td><td style="text-align:left">Article comments, as extracted by the Diffbot Discussion API. See <a href="#comment-extraction">below</a>.</td></tr>
<tr><td style="text-align:left"><code>humanLanguage</code></td><td style="text-align:left">Returns the (spoken/human) language of the submitted page, using two-letter <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO 639-1 nomenclature</a>.</td></tr>
<tr><td style="text-align:left"><code>numPages</code></td><td style="text-align:left">Number of pages automatically concatenated to form the <code>text</code> or <code>html</code> response. By default, Diffbot will automatically concatenate up to 20 pages of an article. <a href="/docs/en/guides-multi-page-articles-discussions">More on automatic concatenation</a>.</td></tr>
<tr><td style="text-align:left"><code>nextPages</code></td><td style="text-align:left">Array of all page URLs concatenated in a multipage article. <a href="/docs/en/guides-multi-page-articles-discussions">More on automatic concatenation</a>.</td></tr>
<tr><td style="text-align:left"><code>siteName</code></td><td style="text-align:left">The plain-text name of the site (e.g. <code>The New York Times</code> or <code>Diffbot</code>). If no site name is automatically determined, the root domain (<code>diffbot.com</code>) will be returned.</td></tr>
<tr><td style="text-align:left"><code>publisherRegion</code></td><td style="text-align:left">If known, the region of the article publication.</td></tr>
<tr><td style="text-align:left"><code>publisherCountry</code></td><td style="text-align:left">If known, the country of the article publication.</td></tr>
<tr><td style="text-align:left"><code>pageUrl</code></td><td style="text-align:left">URL of submitted page / page from which the article is extracted.</td></tr>
<tr><td style="text-align:left"><code>resolvedPageUrl</code></td><td style="text-align:left">Returned if the <code>pageUrl</code> redirects to another URL.</td></tr>
<tr><td style="text-align:left"><code>tags</code></td><td style="text-align:left">Array of tags/entities, generated from analysis of the extracted <code>text</code> and cross-referenced with <a href="https://wiki.dbpedia.org/About">DBpedia</a> and other data sources. Language-specific tags will be returned if the source text is in English, Chinese, French, German, Spanish, Russian, Japanese, Dutch, Polish, Norwegian, Danish or Swedish.</td></tr>
<tr><td style="text-align:left">↳<code>label</code></td><td style="text-align:left">Name of the entity or tag.</td></tr>
<tr><td style="text-align:left">↳<code>count</code></td><td style="text-align:left">Number of appearances the entity makes within the text content.</td></tr>
<tr><td style="text-align:left">↳<code>score</code></td><td style="text-align:left">Rating of the entity's relevance to the overall text content (range of 0 to 1) based on various factors.</td></tr>
<tr><td style="text-align:left">↳<code>rdfTypes</code></td><td style="text-align:left">If the entity can be represented by multiple resources, all of the possible URIs will be returned.</td></tr>
<tr><td style="text-align:left">↳<code>type</code></td><td style="text-align:left">This legacy field is a simplified precursor to <code>rdfTypes</code>, and will return either <code>organization</code> or <code>person</code> if the entity is either of those types.</td></tr>
<tr><td style="text-align:left">↳<code>uri</code></td><td style="text-align:left">Link to the primary Diffbot entity for this tag in the <a href="https://www.diffbot.com/knowledge-graph/">Diffbot Knowledge Graph</a>. On older articles, this might be the URI to the entity at DBpedia or another data source, but in most cases it will lead to Diffbot's KG entry which will contain more information about the tag.</td></tr>
<tr><td style="text-align:left"><code>images</code></td><td style="text-align:left">Array of images, if present within the article body.</td></tr>
<tr><td style="text-align:left">↳<code>url</code></td><td style="text-align:left">Fully resolved link to image. If the image <code>SRC</code> is encoded as base64 data, the complete data URI will be returned.</td></tr>
<tr><td style="text-align:left">↳<code>title</code></td><td style="text-align:left">Description or caption of the image.</td></tr>
<tr><td style="text-align:left">↳<code>height</code></td><td style="text-align:left">Height of image as (re-)sized via browser/CSS.</td></tr>
<tr><td style="text-align:left">↳<code>width</code></td><td style="text-align:left">Width of image as (re-)sized via browser/CSS.</td></tr>
<tr><td style="text-align:left">↳<code>naturalHeight</code></td><td style="text-align:left">Raw image height, in pixels.</td></tr>
<tr><td style="text-align:left">↳<code>naturalWidth</code></td><td style="text-align:left">Raw image width, in pixels.</td></tr>
<tr><td style="text-align:left">↳<code>primary</code></td><td style="text-align:left">Returns <code>true</code> if image is identified as primary based on visual analysis.</td></tr>
<tr><td style="text-align:left">↳<code>diffbotUri</code></td><td style="text-align:left">Internal ID used for indexing.</td></tr>
<tr><td style="text-align:left"><code>videos</code></td><td style="text-align:left">Array of videos, if present within the article body.</td></tr>
<tr><td style="text-align:left">↳<code>url</code></td><td style="text-align:left">Fully resolved link to source video content.</td></tr>
<tr><td style="text-align:left">↳<code>naturalHeight</code></td><td style="text-align:left">Source video height, in pixels, if available.</td></tr>
<tr><td style="text-align:left">↳<code>naturalWidth</code></td><td style="text-align:left">Source video width, in pixels, if available.</td></tr>
<tr><td style="text-align:left">↳<code>primary</code></td><td style="text-align:left">Returns <code>true</code> if video is identified as primary based on visual analysis.</td></tr>
<tr><td style="text-align:left">↳<code>diffbotUri</code></td><td style="text-align:left">Internal ID used for indexing.</td></tr>
<tr><td style="text-align:left"><code>breadcrumb</code></td><td style="text-align:left">Returns a top-level array (<code>breadcrumb</code>) of URLs and link text from page breadcrumbs.</td></tr>
<tr><td style="text-align:left"><code>diffbotUri</code></td><td style="text-align:left">Unique object ID. The <code>diffbotUri</code> is generated from the values of various Article fields and uniquely identifies the object. This can be used for deduplication.</td></tr>
<tr><td style="text-align:left"><code>sentiment</code></td><td style="text-align:left">Returns the sentiment score of the analyzed article text, a value ranging from -1.0 (very negative) to 1.0 (very positive). </td></tr><td colspan="2"><strong>Optional fields, available using <code>fields=</code> argument</strong></td></td></tr>
<tr><td style="text-align:left"><code>quotes</code></td><td style="text-align:left">Returns quotes found in the article text and who said them. For English-language text only.</td></tr>
<tr><td style="text-align:left"><code>links</code></td><td style="text-align:left">Returns a top-level object (<code>links</code>) containing all hyperlinks found on the page.</td></tr>
<tr><td style="text-align:left"><code>meta</code></td><td style="text-align:left">Returns a top-level object (<code>meta</code>) containing the full contents of page <code>meta</code> tags, including sub-arrays for <a href="https://ogp.me/">OpenGraph</a> tags, <a href="https://developer.twitter.com/en/docs/tweets/optimize-with-cards/overview/markup">Twitter Card</a> metadata, <a href="https://www.schema.org">schema.org</a> microdata, and -- if available -- <a href="https://www.oembed.com">oEmbed</a> metadata.</td></tr>
<tr><td style="text-align:left"><code>querystring</code></td><td style="text-align:left">Returns any key/value pairs present in the URL querystring. Items without a discrete value will be returned as <code>true</code>.</td></tr>
<tr><td style="text-align:left"><code>naturalLanguage</code></td><td style="text-align:left">Returns the output of the <a href="/docs/en/nl-index">Diffbot Natural Language API</a> for this article.</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="comment-extraction"></a><a href="#comment-extraction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment Extraction</h2>
<p>By default the Article API will attempt to extract comments from article pages, using integrated functionality from the Diffbot Discussion API. Comment data will be returned in the <code>discussion</code> object (nested within the primary article object). The full syntax for discussion data is available in the <a href="api-discussion">Discussion API documentation</a>.</p>
<p>Discussion extraction can be disabled using the argument <code>discussion=false</code>. Note that if a page has recently been processed by Diffbot, cached comments may be returned even if <code>discussion=false</code> is passed.</p>
<h2><a class="anchor" aria-hidden="true" id="authentication"></a><a href="#authentication" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Authentication</h2>
<p>You can supply Diffbot with basic authentication credentials or custom HTTP headers (see below) to access intranet pages or other sites that require a login.</p>
<h3><a class="anchor" aria-hidden="true" id="basic-authentication"></a><a href="#basic-authentication" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic Authentication</h3>
<p>To access pages that require a login/password (using <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">basic access authentication</a>), include the username and password in your <code>url</code> parameter, e.g.: <code>url=http%3A%2F%2FUSERNAME:PASSWORD@www.diffbot.com</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="custom-http-headers-and-javascript"></a><a href="#custom-http-headers-and-javascript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom HTTP Headers and JavaScript</h2>
<blockquote>
<p>See here for a full guide on <a href="guides-custom-headers-api">using custom headers in direct API calls</a>.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="custom-headers"></a><a href="#custom-headers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom headers</h3>
<p>You can supply Diffbot APIs with custom HTTP headers that will be passed along when making requests to third-party sites. These can be used to define specific Referer, User-Agent, Cookie or any other values.</p>
<p>Custom headers should be sent as HTTP headers in your request to <code>https://api.diffbot.com</code>, and prepended with <code>X-Forward-</code>.</p>
<p>For instance, to send custom <code>User-Agent</code>, <code>Referer</code> and <code>My-Custom-Header</code> header values:</p>
<table>
<thead>
<tr><th style="text-align:left">Desired Header</th><th style="text-align:left">Send to api.diffbot.com</th></tr>
</thead>
<tbody>
<tr><td style="text-align:left"><code>User-Agent:Diffbot</code></td><td style="text-align:left"><code>X-Forward-User-Agent:Diffbot</code></td></tr>
<tr><td style="text-align:left"><code>Referer:diffbot.com</code></td><td style="text-align:left"><code>X-Forward-Referer:diffbot.com</code></td></tr>
<tr><td style="text-align:left"><code>My-Custom-Header:CustomValue</code></td><td style="text-align:left"><code>X-Forward-My-Custom-Header:CustomValue</code></td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="custom-javascript"></a><a href="#custom-javascript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Javascript</h3>
<div class="alert">This functionality is currently in beta.</div>
<p>Using the <code>X-Evaluate</code> custom header (sent as <code>X-Forward-X-Evaluate</code>), you can inject your own Javascript code into web pages. Custom Javascript will be executed once the DOM has loaded.</p>
<p>Custom Javascript should be provided as a text string and contained in its own function. You must also include the special functions <code>start()</code> and <code>end()</code> to indicate the beginning and end of your custom script. Once <code>end()</code> fires, the updated document will be processed by your chosen extraction API.</p>
<p>It's recommended that your <code>end()</code> function be offset using <code>setTimeout</code> (see <a href="https://www.w3schools.com/js/js_timing.asp">JavaScript Timing Events</a>) in order to accommodate your primary function processing. Additionally, if your custom Javascript requires access to Ajax-delivered content, it may be necessary to offset your entire function using <code>setTimeout</code> in order to delay the start of your processing.</p>
<p>The following sample <code>X-Evaluate</code> header waits one-half second after the DOM has loaded, enacts a click on the <code>a.loadMore</code> element, then waits 800 milliseconds before signaling the <code>end()</code>:</p>
<pre><code class="hljs css language-js"><span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    start();
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> loadMoreNode = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'a.loadMore'</span>);
        <span class="hljs-keyword">if</span> (loadMoreNode != <span class="hljs-literal">null</span>) {
            loadMoreNode.click();
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                end();
            }, <span class="hljs-number">800</span>);
        } <span class="hljs-keyword">else</span> {
            end();
        }
    }, <span class="hljs-number">500</span>);
}
</code></pre>
<p>Delivered as a string value as a custom header:</p>
<pre><code class="hljs css language-json">"X-Forward-X-Evaluate": "function() {start();setTimeout(function(){var loadMoreNode=document.querySelector('a.loadMore');if (loadMoreNode != null) {loadMoreNode.click();setTimeout(function(){end();}, 800);} else {end();}},500);}"
</code></pre>
<blockquote>
<p>Note: X-Evaluate will only be executed if called from the API the rule resides in. If you have an X-Evaluate script in your Article API rule and make a request with the Analyze API that identifies the page as an article, the X-Evaluate will not be executed.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="saving-data-to-a-custom-field-using-javascript"></a><a href="#saving-data-to-a-custom-field-using-javascript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Saving Data to a Custom Field Using Javascript</h4>
<p>We support a custom function <code>save(_name_, _value_)</code> that can be used to save Javascript data directly to the JSON output of an extraction API.  For example, the following code will grab the JSON object from a <code>&lt;script&gt;</code> tag wholesale, and output the entire object to the JSON output of the Extraction API:</p>
<pre><code class="hljs css language-js"><span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    start();
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> jsonNode = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'script#PRODUCT_PROPERTIES'</span>);
        <span class="hljs-keyword">if</span> (jsonNode !== <span class="hljs-literal">null</span>) {
            save(<span class="hljs-string">"json"</span>, <span class="hljs-built_in">JSON</span>.parse(jsonNode.innerText));
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                end();
            }, <span class="hljs-number">800</span>);
        } <span class="hljs-keyword">else</span> {
            end();
        }
    }, <span class="hljs-number">500</span>);
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="posting-content"></a><a href="#posting-content" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Posting Content</h2>
<p>If your content is not publicly available (e.g., behind a firewall), you can POST markup or plain text directly to the Article API endpoint for analysis:</p>
<pre><code class="hljs css language-plaintext">https://api.diffbot.com/v3/article?token=...&amp;url=...
</code></pre>
<p>Please note that if you submit HTML, the <code>url</code> argument is still required, and will be used to resolve any relative links contained in the markup.</p>
<p>Provide the content to analyze as your POST body, and specify the <code>Content-Type</code> header as <code>text/html</code> (for full markup) or <code>text/plain</code> (for text-only).</p>
<h3><a class="anchor" aria-hidden="true" id="html-post-sample"></a><a href="#html-post-sample" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HTML Post Sample</h3>
<pre><code class="hljs css language-plaintext">curl -H "Content-Type: text/html" -d '&lt;html&gt;&lt;body&gt;&lt;p&gt;Now is the time for all good robots to come to the aid of their-- oh never mind, run!&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;' 'https://api.diffbot.com/v3/article?token=...&amp;url=http%3A%2F%2Fblog.diffbot.com'
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="plaintext-post-sample"></a><a href="#plaintext-post-sample" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plaintext Post Sample</h3>
<pre><code class="hljs css language-plaintext">curl -H "Content-Type: text/plain" -d 'Now is the time for all good robots to come to the aid of their-- oh never mind, run!' 'https://api.diffbot.com/v3/article?token=...&amp;fields=tags,text'
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated by Jay</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/guides-correct-images-custom-api"><span class="arrow-prev">← </span><span>Correcting the Images field</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#request">Request</a><ul class="toc-headings"><li><a href="#the-fields-argument">The fields argument</a></li><li><a href="#the-naturallanguage-argument">The naturalLanguage argument</a></li></ul></li><li><a href="#response">Response</a></li><li><a href="#comment-extraction">Comment Extraction</a></li><li><a href="#authentication">Authentication</a><ul class="toc-headings"><li><a href="#basic-authentication">Basic Authentication</a></li></ul></li><li><a href="#custom-http-headers-and-javascript">Custom HTTP Headers and JavaScript</a><ul class="toc-headings"><li><a href="#custom-headers">Custom headers</a></li><li><a href="#custom-javascript">Custom Javascript</a></li></ul></li><li><a href="#posting-content">Posting Content</a><ul class="toc-headings"><li><a href="#html-post-sample">HTML Post Sample</a></li><li><a href="#plaintext-post-sample">Plaintext Post Sample</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/diffbot_white.svg" alt="Docs Suite" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/api-basics-index">Extraction</a><a href="/docs/en/cb-basics-index">Crawling</a><a href="/docs/en/kg-index">Knowledge Graph</a><a href="/docs/en/explain-gdpr">Diffbot and GDPR</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/diffbot" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/diffbot" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="/help">Help</a><a href="https://github.com/diffbot">GitHub</a></div></section><a href="https://diffbot.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/diffbot_white.svg" alt="Diffbot.com" width="170" height="45"/></a><section class="copyright">Copyright © 2021 Diffbot.com</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2c24e5e78d724e77c46ef1b720700177',
                indexName: 'diffbot',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>